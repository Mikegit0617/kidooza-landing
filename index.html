<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KIDOOZA — Smarter Learning Powered by AI</title>
  <meta name="description" content="KIDOOZA: AI kids’ worksheet generator. Smart worksheets in seconds." />
  <link rel="icon" href="brand-mark.png" />
  <style>
    :root { --fg:#0b1020; --muted:#6b7280; --brand:#0ea5e9; --bg:#ffffff; --card:#f7f7fb; }
    *{box-sizing:border-box} body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      color:var(--fg);background:var(--bg)}
    .wrap{max-width:980px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit}
    .brand img{width:40px;height:40px}
    .lang{font-size:14px;color:var(--muted)}
    .lang button{background:none;border:0;cursor:pointer;font:inherit;padding:4px 8px;border-radius:8px}
    .lang button.active{color:#fff;background:var(--brand)}
    .hero{margin:48px 0;padding:28px;border-radius:20px;background:var(--card)}
    h1{margin:0 0 8px;font-size:34px;line-height:1.15}
    p.lead{margin:0;color:var(--muted);font-size:16px}
    .form{margin-top:24px;display:flex;gap:10px;flex-wrap:wrap}
    input[type=email]{flex:1 1 280px;padding:14px 12px;border-radius:12px;border:1px solid #d1d5db;font-size:16px}
    button[type=submit]{padding:14px 18px;border:0;border-radius:12px;background:var(--brand);color:#fff;font-weight:600;cursor:pointer}
    .result{margin-top:10px;font-size:14px}
    footer{margin:48px 0 12px;color:var(--muted);font-size:13px;text-align:center}
    .under{margin-top:16px;font-size:14px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <a class="brand" href="#">
        <!-- Use your approved glossy 3D green “K” with blue-yellow orbit -->
        <img src="logo.png" alt="KIDOOZA logo" />
        <div>
          <strong>KIDOOZA</strong><br>
          <small class="slogan" data-i18n="slogan">Smarter Learning Powered by AI</small>
        </div>
      </a>
      <nav class="lang" aria-label="Language">
        <button data-lang="en" class="active">EN</button> |
        <button data-lang="es">ES</button> |
        <button data-lang="vi">VI</button>
      </nav>
    </header>

    <main class="hero">
      <h1 data-i18n="headline">AI-Powered Kids’ Worksheet Generator</h1>
      <p class="lead" data-i18n="subhead">
        Generate curriculum-aligned worksheets in seconds — math, reading, science, geography, animals, planets, and more.
      </p>

      <div class="under" data-i18n="under1">
        We are currently working hard to bring you an innovative learning experience powered by artificial intelligence…
      </div>
      <div class="under" data-i18n="under2">
        Under construction — building the platform to deliver an exceptional educational experience.
      </div>

      <form id="waitlist-form" class="form" autocomplete="on">
        <input id="email" type="email" placeholder="you@example.com" required
               aria-label="Email" data-i18n-placeholder="email_placeholder" />
        <button id="join-btn" type="submit" data-i18n="join">Join waitlist</button>
        <div id="result" class="result" role="status" aria-live="polite"></div>
      </form>
    </main>

    <footer>
      <span data-i18n="footer">© KIDOOZA. All rights reserved.</span>
    </footer>
  </div>

  <script>
    // ---------------- i18n dictionary ----------------
    const I18N = {
      en: {
        slogan: "Smarter Learning Powered by AI",
        headline: "AI-Powered Kids’ Worksheet Generator",
        subhead: "Generate curriculum-aligned worksheets in seconds — math, reading, science, geography, animals, planets, and more.",
        under1: "We are currently working hard to bring you an innovative learning experience powered by artificial intelligence…",
        under2: "Under construction — building the platform to deliver an exceptional educational experience.",
        join: "Join waitlist",
        email_placeholder: "you@example.com",
        footer: "© KIDOOZA. All rights reserved.",
        invalid_email: "Please enter a valid email.",
        submitting: "Submitting…",
        success: "Thank you! You’re on the waitlist.",
        error: "Something went wrong. Please try again."
      },
      es: {
        slogan: "Aprendizaje más inteligente con IA",
        headline: "Generador de hojas de trabajo para niños con IA",
        subhead: "Genera hojas alineadas al plan de estudios en segundos: matemáticas, lectura, ciencias, geografía, animales, planetas y más.",
        under1: "Estamos trabajando duro para ofrecerte una experiencia de aprendizaje innovadora impulsada por IA…",
        under2: "En construcción — creando una plataforma educativa excepcional.",
        join: "Unirme a la lista",
        email_placeholder: "tu@correo.com",
        footer: "© KIDOOZA. Todos los derechos reservados.",
        invalid_email: "Por favor ingresa un correo válido.",
        submitting: "Enviando…",
        success: "¡Gracias! Estás en la lista de espera.",
        error: "Algo salió mal. Inténtalo de nuevo."
      },
      vi: {
        slogan: "Học thông minh hơn nhờ AI",
        headline: "Trình tạo bài tập cho trẻ em dùng AI",
        subhead: "Tạo bài tập theo chương trình chỉ trong vài giây — toán, đọc, khoa học, địa lý, động vật, các hành tinh và hơn thế nữa.",
        under1: "Chúng tôi đang nỗ lực xây dựng trải nghiệm học tập sáng tạo được hỗ trợ bởi trí tuệ nhân tạo…",
        under2: "Trang đang xây dựng — hướng tới một nền tảng giáo dục xuất sắc.",
        join: "Tham gia danh sách chờ",
        email_placeholder: "ban@example.com",
        footer: "© KIDOOZA. Bảo lưu mọi quyền.",
        invalid_email: "Vui lòng nhập email hợp lệ.",
        submitting: "Đang gửi…",
        success: "Cảm ơn! Bạn đã vào danh sách chờ.",
        error: "Có lỗi xảy ra. Vui lòng thử lại."
      }
    };

    const langBtns = document.querySelectorAll('[data-lang]');
    const swapLang = (lang) => {
      const dict = I18N[lang] || I18N.en;
      document.documentElement.lang = lang;

      // Replace text content
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key]) el.textContent = dict[key];
      });

      // Replace placeholders
      document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (dict[key]) el.setAttribute('placeholder', dict[key]);
      });

      // Toggle active button
      langBtns.forEach(b => b.classList.toggle('active', b.dataset.lang === lang));
      localStorage.setItem('kidooza_lang', lang);
    };

    langBtns.forEach(b => b.addEventListener('click', () => swapLang(b.dataset.lang)));
    swapLang(localStorage.getItem('kidooza_lang') || 'en');

    // -------------- Waitlist form (frontend + API call) --------------
    (function () {
      const form  = document.getElementById('waitlist-form');
      const email = document.getElementById('email');
      const btn   = document.getElementById('join-btn');
      const result= document.getElementById('result');
      if (!form || !email) return;

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const value = (email.value || '').trim();
        const lang = document.documentElement.lang || 'en';
        const T = I18N[lang];

        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
          result.textContent = T.invalid_email;
          return;
        }

        btn.disabled = true;
        result.textContent = T.submitting;

        try {
          // If you have backend: /api/waitlist (Node/Next). Otherwise fallback to local demo.
          const res = await fetch('/api/waitlist', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email: value })
          }).then(r => r.json()).catch(() => ({}));

          if (res && res.ok) {
            result.textContent = T.success;
            form.reset();
          } else {
            // Fallback demo success if no backend available
            result.textContent = res.message ? `${T.error} (${res.message})` : T.success;
            if (!res.message) form.reset();
          }
        } catch (err) {
          result.textContent = T.error;
          console.error(err);
        } finally {
          btn.disabled = false;
        }
      });
    })();
  </script>
</body>
</html>
